<div class="container d-flex justify-content-center align-items-center" style="height: 100vh;">
    <div class="card p-4 shadow-lg" style="width: 90%; background-color: #3f3f3f;">
        <h2 class="text-center text-white">Gruppenübersicht</h2>

        <!-- Benutzer Input Form -->
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Benutzername" [(ngModel)]="newUserName">
        </div>

        <!-- Mehrfachauswahl für Rollen -->
        <div class="mb-3">
            <h5 class="text-white">Rollen auswählen:</h5>
            <div *ngFor="let role of roles" class="form-check">
                <input 
                    class="form-check-input" 
                    type="checkbox" 
                    [value]="role.name"
                    (change)="toggleUserRole(role.name, $event)"
                    [checked]="newUserRoles.includes(role.name)">
                <label class="form-check-label text-white">
                    {{ role.name }}
                </label>
            </div>
        </div>

        <!-- Benutzer hinzufügen -->
        <button class="btn btn-primary w-100" (click)="addUser()">Benutzer hinzufügen</button>

        <!-- Benutzerliste -->
        <div class="mt-4">
            <h4 class="text-center text-white">Benutzerliste</h4>
            <div class="table-responsive">
                <table class="table table-dark mt-3">
                    <thead>
                        <tr>
                            <th>Benutzername</th>
                            <th>Rollen</th>
                            <th>Aktionen</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let user of users; let i = index">
                            <td>{{ user.name }}</td>
                            <td>
                                <span *ngFor="let role of user.roles" 
                                    class="badge p-2 me-1 text-white"
                                    [style.backgroundColor]="getRoleColor(role)">
                                    {{ role }}
                                </span>
                            </td>
                            <td>
                                <button class="btn btn-danger btn-sm" (click)="deleteUser(i)">Löschen</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Alle Benutzer löschen -->
        <div class="mt-4">
            <button class="btn btn-danger w-100" (click)="deleteAllUsers()">Alles löschen</button>
        </div>

        <!-- Rollenerstellung -->
        <div class="mt-5">
            <h4 class="text-center text-white">Eigene Rollen erstellen</h4>
            
            <!-- Eingabe für neuen Rollennamen -->
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="Neue Rolle eingeben" [(ngModel)]="newRoleName">
            </div>

            <!-- Eingabe für Rollenfarbe -->
            <div class="input-group mb-3">
                
                <input type="color" class="form-control form-control-color" [(ngModel)]="newRoleColor">
            </div>

            <!-- Button zum Erstellen der Rolle -->
            <button class="btn btn-primary w-100" (click)="addRole()">Rolle erstellen</button>
        </div>
    </div>
</div>


  